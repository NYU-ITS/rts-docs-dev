<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-srde/user_guide/getting_started" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">SRDE User Guide | Research Technology Servcies</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://your-docusaurus-site.example.com/rts-docs-dev/pr-preview/pr-47/img/NYU.svg"><meta data-rh="true" name="twitter:image" content="https://your-docusaurus-site.example.com/rts-docs-dev/pr-preview/pr-47/img/NYU.svg"><meta data-rh="true" property="og:url" content="https://your-docusaurus-site.example.com/rts-docs-dev/pr-preview/pr-47/docs/srde/user_guide/getting_started/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SRDE User Guide | Research Technology Servcies"><meta data-rh="true" name="description" content="Remote access to the secure environment workspace via the Command Line Interface. The SRDE consists of two separate servers:"><meta data-rh="true" property="og:description" content="Remote access to the secure environment workspace via the Command Line Interface. The SRDE consists of two separate servers:"><link data-rh="true" rel="icon" href="/rts-docs-dev/pr-preview/pr-47/img/NYU.ico"><link data-rh="true" rel="canonical" href="https://your-docusaurus-site.example.com/rts-docs-dev/pr-preview/pr-47/docs/srde/user_guide/getting_started/"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/rts-docs-dev/pr-preview/pr-47/docs/srde/user_guide/getting_started/" hreflang="en"><link data-rh="true" rel="alternate" href="https://your-docusaurus-site.example.com/rts-docs-dev/pr-preview/pr-47/docs/srde/user_guide/getting_started/" hreflang="x-default"><link rel="alternate" type="application/rss+xml" href="/rts-docs-dev/pr-preview/pr-47/blog/rss.xml" title="Research Technology Servcies RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rts-docs-dev/pr-preview/pr-47/blog/atom.xml" title="Research Technology Servcies Atom Feed"><link rel="stylesheet" href="/rts-docs-dev/pr-preview/pr-47/assets/css/styles.bd61671b.css">
<script src="/rts-docs-dev/pr-preview/pr-47/assets/js/runtime~main.9b139a7a.js" defer="defer"></script>
<script src="/rts-docs-dev/pr-preview/pr-47/assets/js/main.cd886f56.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_KxB8" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rts-docs-dev/pr-preview/pr-47/"><div class="navbar__logo"><img src="/rts-docs-dev/pr-preview/pr-47/img/NYU.svg" alt="My Site Logo" class="themedComponent_com3 themedComponent--light_lBde"><img src="/rts-docs-dev/pr-preview/pr-47/img/NYU.svg" alt="My Site Logo" class="themedComponent_com3 themedComponent--dark_ixFE"></div><b class="navbar__title text--truncate">Research Technology Services</b></a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/rts-docs-dev/pr-preview/pr-47/docs/genai/intro/">Pythia</a><a class="navbar__item navbar__link" href="/rts-docs-dev/pr-preview/pr-47/docs/hpc/getting_started/intro/">HPC</a><a class="navbar__item navbar__link" href="/rts-docs-dev/pr-preview/pr-47/docs/hsrn/intro/">HSRN</a><a class="navbar__item navbar__link" href="/rts-docs-dev/pr-preview/pr-47/docs/rtc/intro/">RTC</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/getting_started/intro/">SRDE</a><a class="navbar__item navbar__link" href="/rts-docs-dev/pr-preview/pr-47/blog/">Announcements</a><div class="toggle_R4BT colorModeToggle_kyE7"><button class="clean-btn toggleButton_Y0jP toggleButtonDisabled_bFSl" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_Kmra"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_fxXz"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_OYd8"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_YcKM"><div class="docsWrapper_vfuX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_A1K6" type="button"></button><div class="docRoot_gAes"><aside class="theme-doc-sidebar-container docSidebarContainer_bgeH"><div class="sidebarViewport_brue"><div class="sidebar_ONfO"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_h_Va"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/getting_started/intro/">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/user_guide/getting_started/">User Guide</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/user_guide/getting_started/">SRDE User Guide</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/faq/basics/">Frequently Asked Questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/support/support/">Support</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_Qw2W"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_r2ob"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_CcZR"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_P9PG"><div class="docItemContainer_Qxz1"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_lmbi" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rts-docs-dev/pr-preview/pr-47/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OXXu"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">User Guide</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SRDE User Guide</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_A8Nc theme-doc-toc-mobile tocMobile_WsYZ"><button type="button" class="clean-btn tocCollapsibleButton_IF50">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SRDE User Guide</h1></header>
<p>Remote access to the secure environment workspace via the Command Line Interface. The SRDE consists of two separate servers:</p>
<ul>
<li>The Workspace Host is where you access and analyze data</li>
<li>The Bastion Host acts as a proxy that allows your laptop/workstation to connect securely via the internet to the Workspace Host.</li>
</ul>
<p>Accessing the Secure environment Workspace Host remotely via the Command Line Interface (CLI) is a two-step process: First you must connect to the Bastion Host and then from the Bastion Host access your Workspace Host.  The two-step process is demonstrated below:
<img decoding="async" loading="lazy" alt="Virtual Private Network" src="/rts-docs-dev/pr-preview/pr-47/assets/images/vpc_basics-bcca2bf1a5dcd1495402c39f74bf1801.png" width="1999" height="742" class="img_o3qn"></p>
<p>This two-step process is enabled with the use of SSH keys and SSH Agent Forwarding and is described in detail for some of the common Operating Systems (MacOS/Linux and Windows)  in the following sections of the User Guide. For more general information about using SSH keys and the use of Bastion Host <a href="https://medium.com/devops-dudes/setting-up-an-ssh-agent-to-access-the-bastion-in-vpc-532918577949" target="_blank" rel="noopener noreferrer">see here</a>.</p>
<p>User access to the secure environment is controlled by <a href="https://cloud.google.com/security/products/iap?hl=en" target="_blank" rel="noopener noreferrer">Identity-Aware Proxy (IAP)</a> Google Cloud service. IAP provides a central way of managing user access and enforcing access control policies, without requiring external/public IP addresses on the Bastion Host and the Workspace Host.</p>
<div class="theme-admonition theme-admonition-tip admonition_mr78 alert alert--success"><div class="admonitionHeading_z5e8"><span class="admonitionIcon_kGdK"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Prerequisites</div><div class="admonitionContent_ayNk"><p>In order to be able to access your Secure Environment Workspace Host, you will need the following information, provided by the Secure Research Data Admins:</p><ul>
<li><strong>Project Id</strong> for the Bastion Host (ex. test-dev1-bastion-1234)</li>
<li><strong>Zone Name</strong> (ex. us-east4-a)</li>
</ul><div class="theme-admonition theme-admonition-note admonition_mr78 alert alert--secondary"><div class="admonitionHeading_z5e8"><span class="admonitionIcon_kGdK"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_ayNk"><p>At this time you are not required to be on the NYU Network (or VPN into the NYU Network) in order to access the Secure Environment workspace.</p></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_IpFJ" id="connecting-through-google-cloud-console">Connecting through Google Cloud Console<a href="#connecting-through-google-cloud-console" class="hash-link" aria-label="Direct link to Connecting through Google Cloud Console" title="Direct link to Connecting through Google Cloud Console">​</a></h2>
<p>Navigate to Google Cloud Console <a href="https://console.cloud.google.com/welcome" target="_blank" rel="noopener noreferrer">https://console.cloud.google.com/welcome</a> and login with your NetID. Click the Select a project drop-down list at the top left corner of the page. In the Select a project window that appears, search and select the bastion project using the provided project ID (ex. test-dev1-bastion-1234).</p>
<p><img decoding="async" loading="lazy" alt="Select a project" src="/rts-docs-dev/pr-preview/pr-47/assets/images/select_project-2d3445b242dce0d4ca53bb0e52f1d286.png" width="752" height="132" class="img_o3qn"></p>
<p>Once selected, navigate to the VM Instances page via the Navigation menu (Menu in the top left corner of the page ) &gt; Compute Engine &gt; VM Instances. A running Bastion instance will be visible in the page as shown below:</p>
<p><img decoding="async" loading="lazy" alt="Bastion Instance" src="/rts-docs-dev/pr-preview/pr-47/assets/images/bastion_instance-3176a007f4d8db85a8eea0b9158a1e74.png" width="1999" height="398" class="img_o3qn"></p>
<p>ssh to the Bastion instance by clicking on the SSH button, a new SSH-in-browser tab will appear with a restricted CLI ( Command line interface ) connected to the instance. We are now inside the Bastion Host.</p>
<p><img decoding="async" loading="lazy" alt="SSH in browser" src="/rts-docs-dev/pr-preview/pr-47/assets/images/ssh_in_browser-38c37a9dd011d80c26e8e781a0693058.png" width="1796" height="668" class="img_o3qn"></p>
<p>Now we can ssh to our workspace host by using the workspace internal IP address <code>10.0.0.2</code>:</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">ssh</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10.0</span><span class="token plain">.0.2</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will open the workspace CLI, with access to the workspace host having the computing needs to work on our data.</p>
<h2 class="anchor anchorWithStickyNavbar_IpFJ" id="connecting-through-google-cloud-shell">Connecting through Google Cloud Shell<a href="#connecting-through-google-cloud-shell" class="hash-link" aria-label="Direct link to Connecting through Google Cloud Shell" title="Direct link to Connecting through Google Cloud Shell">​</a></h2>
<p>Navigate to <a href="https://shell.cloud.google.com/" target="_blank" rel="noopener noreferrer">https://shell.cloud.google.com/</a> while logged in using your NetID.</p>
<h3 class="anchor anchorWithStickyNavbar_IpFJ" id="setting-project-and-zone">Setting project and zone<a href="#setting-project-and-zone" class="hash-link" aria-label="Direct link to Setting project and zone" title="Direct link to Setting project and zone">​</a></h3>
<p>Note - Ask your SRDE administrator for the appropriate GCP PROJECT_ID and ZONE_NAME. Replace the values in the two commands below and run them</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gcloud config </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">set</span><span class="token plain"> project PROJECT_ID</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gcloud config </span><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">set</span><span class="token plain"> compute/zone ZONE_NAME</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IpFJ" id="confirm-settings">Confirm settings<a href="#confirm-settings" class="hash-link" aria-label="Direct link to Confirm settings" title="Direct link to Confirm settings">​</a></h3>
<p>Before proceeding, confirm that the project and zone match your GCP project ID and zone:</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gcloud config list</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">compute</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">region </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> us-east4</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">zone </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> us-east4-a</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain"></span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">core</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">account </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> netid@nyu.edu</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">disable_usage_reporting </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> False</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">project </span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain"> test-dev1-bastion-1234</span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">Your active configuration is: </span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">[</span><span class="token plain">default</span><span class="token punctuation" style="color:hsl(119, 34%, 47%)">]</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IpFJ" id="generate-ssh-keys">Generate SSH keys<a href="#generate-ssh-keys" class="hash-link" aria-label="Direct link to Generate SSH keys" title="Direct link to Generate SSH keys">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_mr78 alert alert--success"><div class="admonitionHeading_z5e8"><span class="admonitionIcon_kGdK"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Unused keys expire!</div><div class="admonitionContent_ayNk"><p>Google Cloud Shell will delete your files, including generated SSH keys, if they are not accessed for 120 days. If this happens you will need to generate them again.</p></div></div>
<p>The simplest way to generate SSH keys is to delegate the key generation to gcloud. In order to trigger key creation, run the following command.</p>
<div class="theme-admonition theme-admonition-note admonition_mr78 alert alert--secondary"><div class="admonitionHeading_z5e8"><span class="admonitionIcon_kGdK"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_ayNk"><p>Ignore the result of this command. It will most likely print errors to the output console.</p></div></div>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gcloud compute </span><span class="token function" style="color:hsl(221, 87%, 60%)">ssh</span><span class="token plain"> bastion-vm</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You will be prompted to enter an SSH passphrase. This is optional, however it is recommended for additional user security.
<img decoding="async" loading="lazy" alt="Getting into Bastion" src="/rts-docs-dev/pr-preview/pr-47/assets/images/getting_into_bastion-b09a6a901e11b36b7c0c856663430244.png" width="1152" height="816" class="img_o3qn"></p>
<p>The above command should log you into the bastion VM. You will see a prompt like:</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">-bash-4.4$”</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Before proceeding, exit back to your local machine</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">exit</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Then make sure the above step created two keys in your ssh home directory (<code>~/.ssh</code>) as shown below:</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">ls</span><span class="token plain"> ~/.ssh</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><img decoding="async" loading="lazy" alt="List ssh keys" src="/rts-docs-dev/pr-preview/pr-47/assets/images/ls_dot_ssh-369c9555275bc7c66cfba19ce1866ec9.png" width="1104" height="152" class="img_o3qn"></p>
<p>Start the ssh-agent on your local machine</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">eval</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">`</span><span class="token variable" style="color:hsl(221, 87%, 60%)">ssh-agent </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-s</span><span class="token variable" style="color:hsl(221, 87%, 60%)">`</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Add the google_compute_engine key to your ssh session</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ssh-add ~/.ssh/google_compute_engine</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Connect to the instance with gcloud using the –ssh-flag-”-A” flag</p>
<div class="theme-admonition theme-admonition-note admonition_mr78 alert alert--secondary"><div class="admonitionHeading_z5e8"><span class="admonitionIcon_kGdK"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_ayNk"><p>This command uses the default project and zone set above.</p></div></div>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gcloud compute </span><span class="token function" style="color:hsl(221, 87%, 60%)">ssh</span><span class="token plain"> bastion-vm --ssh-flag</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;-A&quot;</span><span class="token plain">  --tunnel-through-iap</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IpFJ" id="add-ssh-key-to-session">Add SSH key to session<a href="#add-ssh-key-to-session" class="hash-link" aria-label="Direct link to Add SSH key to session" title="Direct link to Add SSH key to session">​</a></h3>
<p>Run the following command to add the google_compute_engine key to the current session<!-- -->:ssh</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ssh-add </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">-L</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Connect to the workstation-vm</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">ssh</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10.0</span><span class="token plain">.0.2</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_IpFJ" id="future-logins">Future logins<a href="#future-logins" class="hash-link" aria-label="Direct link to Future logins" title="Direct link to Future logins">​</a></h3>
<p>After the initial login, you will not need to regenerate the SSH keys, but you will need the rest of the command sequence from “Start the SSH agent”. On your local machine:</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token builtin class-name" style="color:hsl(35, 99%, 36%)">eval</span><span class="token plain"> </span><span class="token variable" style="color:hsl(221, 87%, 60%)">`</span><span class="token variable" style="color:hsl(221, 87%, 60%)">ssh-agent </span><span class="token variable parameter variable" style="color:hsl(221, 87%, 60%)">-s</span><span class="token variable" style="color:hsl(221, 87%, 60%)">`</span><span class="token plain"></span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">ssh-add ~/.ssh/google_compute_engine </span><br></span><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token plain">gcloud compute </span><span class="token function" style="color:hsl(221, 87%, 60%)">ssh</span><span class="token plain"> bastion-vm --ssh-flag</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token string" style="color:hsl(119, 34%, 47%)">&quot;-A&quot;</span><span class="token plain"> --tunnel-through-iap </span><span class="token parameter variable" style="color:hsl(221, 87%, 60%)">--project</span><span class="token operator" style="color:hsl(221, 87%, 60%)">=</span><span class="token plain">PROJECT_ID</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And then on the bastion VM:</p>
<div class="language-sh codeBlockContainer_k6rP theme-code-block" style="--prism-background-color:hsl(230, 1%, 98%);--prism-color:hsl(230, 8%, 24%)"><div class="codeBlockContent_HN_K"><pre tabindex="0" class="prism-code language-sh codeBlock_DZ1z thin-scrollbar" style="background-color:hsl(230, 1%, 98%);color:hsl(230, 8%, 24%)"><code class="codeBlockLines_CGlt"><span class="token-line" style="color:hsl(230, 8%, 24%)"><span class="token function" style="color:hsl(221, 87%, 60%)">ssh</span><span class="token plain"> </span><span class="token number" style="color:hsl(35, 99%, 36%)">10.0</span><span class="token plain">.0.2</span><br></span></code></pre><div class="buttonGroup_WyAG"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_lsaH" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_e5YZ"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_e5Jg"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/srde/02_user_guide/01_getting_started.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_iYHa" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VmmU"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/getting_started/eligibility_accounts/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Secure Research Data Environment (SRDE)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rts-docs-dev/pr-preview/pr-47/docs/srde/faq/basics/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">About SRDE &amp; How to Get Started</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_CWwu thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#connecting-through-google-cloud-console" class="table-of-contents__link toc-highlight">Connecting through Google Cloud Console</a></li><li><a href="#connecting-through-google-cloud-shell" class="table-of-contents__link toc-highlight">Connecting through Google Cloud Shell</a><ul><li><a href="#setting-project-and-zone" class="table-of-contents__link toc-highlight">Setting project and zone</a></li><li><a href="#confirm-settings" class="table-of-contents__link toc-highlight">Confirm settings</a></li><li><a href="#generate-ssh-keys" class="table-of-contents__link toc-highlight">Generate SSH keys</a></li><li><a href="#add-ssh-key-to-session" class="table-of-contents__link toc-highlight">Add SSH key to session</a></li><li><a href="#future-logins" class="table-of-contents__link toc-highlight">Future logins</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Feedback</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:hpc@nyu.edu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Email<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_AB9w"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rts-docs-dev/pr-preview/pr-47/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/NYU-ITS/rts-docs-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_AB9w"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Built with Docusaurus!</div></div></div></footer></div>
</body>
</html>